# 音響イベント検出モデル 統合分析レポート

生成日時: 2025-12-04 21:23:07

---

## 1. モデル概要

### baseline

- **チェックポイント**: `wandb/evaled_runs/run-20251203_024040-ktypj1kd/files/checkpoints/epoch=109-step=12980.ckpt`
- **設定ファイル**: `confs/pretrained.yaml`
- **推論時刻**: 2025-12-04T20:27:56.241979
- **デバイス**: cuda

### cmt_normal

- **チェックポイント**: `wandb/evaled_runs/run-20251203_013347-q76nk5kw/files/checkpoints/epoch=119-step=14160.ckpt`
- **設定ファイル**: `confs/pretrained.yaml`
- **推論時刻**: 2025-12-04T20:41:29.361694
- **デバイス**: cuda

### cmt_neg

- **チェックポイント**: `wandb/evaled_runs/run-20251204_123615-zlr6ypvl/files/checkpoints/epoch=119-step=14160.ckpt`
- **設定ファイル**: `confs/pretrained.yaml`
- **推論時刻**: 2025-12-04T20:39:43.305392
- **デバイス**: cuda

---

## 2. 全体的な性能比較

### Student モデル

| Model      | Dataset            |   Accuracy |   Precision |   Recall |     F1 |    mAP |    ECE |
|:-----------|:-------------------|-----------:|------------:|---------:|-------:|-------:|-------:|
| baseline   | desed_validation   |     0.977  |      0.9671 |   0.7564 | 0.8489 | 0.9122 | 0.0176 |
| baseline   | maestro_training   |     0.9728 |      0.9814 |   0.6405 | 0.7751 | 0.7489 | 0.0351 |
| baseline   | maestro_validation |     0.9735 |      0.9663 |   0.5614 | 0.7102 | 0.6194 | 0.0268 |
| cmt_normal | desed_validation   |     0.9824 |      0.9474 |   0.8406 | 0.8908 | 0.9123 | 0.0096 |
| cmt_normal | maestro_training   |     0.9757 |      0.9795 |   0.6818 | 0.804  | 0.7432 | 0.0351 |
| cmt_normal | maestro_validation |     0.9721 |      0.9094 |   0.5759 | 0.7052 | 0.6027 | 0.0259 |
| cmt_neg    | desed_validation   |     0.9747 |      0.97   |   0.7264 | 0.8307 | 0.9099 | 0.0221 |
| cmt_neg    | maestro_training   |     0.9759 |      0.9758 |   0.687  | 0.8064 | 0.7595 | 0.0362 |
| cmt_neg    | maestro_validation |     0.9721 |      0.8879 |   0.5926 | 0.7108 | 0.5947 | 0.0271 |

### Teacher モデル

| Model      | Dataset            |   Accuracy |   Precision |   Recall |     F1 |    mAP |    ECE |
|:-----------|:-------------------|-----------:|------------:|---------:|-------:|-------:|-------:|
| baseline   | desed_validation   |     0.9775 |      0.9669 |   0.7626 | 0.8527 | 0.9122 | 0.0178 |
| baseline   | maestro_training   |     0.9756 |      0.9824 |   0.6784 | 0.8025 | 0.757  | 0.0362 |
| baseline   | maestro_validation |     0.9735 |      0.9628 |   0.5635 | 0.7109 | 0.5984 | 0.0264 |
| cmt_normal | desed_validation   |     0.9823 |      0.9416 |   0.8461 | 0.8913 | 0.9174 | 0.0093 |
| cmt_normal | maestro_training   |     0.9757 |      0.9893 |   0.6756 | 0.8029 | 0.7549 | 0.0353 |
| cmt_normal | maestro_validation |     0.9725 |      0.9372 |   0.5635 | 0.7039 | 0.6047 | 0.0254 |
| cmt_neg    | desed_validation   |     0.9745 |      0.9626 |   0.7307 | 0.8308 | 0.9131 | 0.0212 |
| cmt_neg    | maestro_training   |     0.9751 |      0.9867 |   0.6693 | 0.7976 | 0.7554 | 0.0367 |
| cmt_neg    | maestro_validation |     0.9728 |      0.9452 |   0.5635 | 0.7061 | 0.6046 | 0.0259 |

---

## 3. データセット別の詳細分析

### desed_validation

| Model      |   accuracy |   precision |   recall |     f1 |    mAP |    ece |
|:-----------|-----------:|------------:|---------:|-------:|-------:|-------:|
| baseline   |     0.977  |      0.9671 |   0.7564 | 0.8489 | 0.9122 | 0.0176 |
| cmt_normal |     0.9824 |      0.9474 |   0.8406 | 0.8908 | 0.9123 | 0.0096 |
| cmt_neg    |     0.9747 |      0.97   |   0.7264 | 0.8307 | 0.9099 | 0.0221 |

### maestro_training

| Model      |   accuracy |   precision |   recall |     f1 |    mAP |    ece |
|:-----------|-----------:|------------:|---------:|-------:|-------:|-------:|
| baseline   |     0.9728 |      0.9814 |   0.6405 | 0.7751 | 0.7489 | 0.0351 |
| cmt_normal |     0.9757 |      0.9795 |   0.6818 | 0.804  | 0.7432 | 0.0351 |
| cmt_neg    |     0.9759 |      0.9758 |   0.687  | 0.8064 | 0.7595 | 0.0362 |

### maestro_validation

| Model      |   accuracy |   precision |   recall |     f1 |    mAP |    ece |
|:-----------|-----------:|------------:|---------:|-------:|-------:|-------:|
| baseline   |     0.9735 |      0.9663 |   0.5614 | 0.7102 | 0.6194 | 0.0268 |
| cmt_normal |     0.9721 |      0.9094 |   0.5759 | 0.7052 | 0.6027 | 0.0259 |
| cmt_neg    |     0.9721 |      0.8879 |   0.5926 | 0.7108 | 0.5947 | 0.0271 |

---

## 4. クラス別性能分析 (Student)

### desed_validation

#### Top 10 Classes (by F1 score)

| class                      |   n_positive |   precision |   recall |       f1 |       AP |   f1_cmt_normal |   f1_cmt_neg |
|:---------------------------|-------------:|------------:|---------:|---------:|---------:|----------------:|-------------:|
| Speech                     |         1265 |    0.997347 | 0.8917   | 0.941569 | 0.998788 |        0.967006 |     0.933053 |
| Vacuum_cleaner             |          161 |    0.959732 | 0.888199 | 0.922581 | 0.977685 |        0.952978 |     0.951768 |
| Cat                        |          164 |    0.960265 | 0.884146 | 0.920635 | 0.953272 |        0.94375  |     0.725869 |
| Electric_shaver_toothbrush |          173 |    0.948387 | 0.849711 | 0.896341 | 0.955489 |        0.915663 |     0.86875  |
| Blender                    |          168 |    0.992537 | 0.791667 | 0.880795 | 0.940761 |        0.892216 |     0.890323 |
| Alarm_bell_ringing         |          204 |    0.95858  | 0.794118 | 0.868633 | 0.941633 |        0.874074 |     0.849162 |
| Frying                     |          216 |    0.855    | 0.791667 | 0.822115 | 0.892773 |        0.833333 |     0.810427 |
| Running_water              |          181 |    0.867188 | 0.61326  | 0.718447 | 0.796233 |        0.761006 |     0.741935 |
| Dog                        |          188 |    1        | 0.478723 | 0.647482 | 0.852766 |        0.779553 |     0.637681 |
| Dishes                     |          347 |    0.978261 | 0.259366 | 0.410023 | 0.812576 |        0.671329 |     0.35461  |

### maestro_training

#### Top 10 Classes (by F1 score)

| class             |   n_positive |   precision |   recall |       f1 |       AP |   f1_cmt_normal |   f1_cmt_neg |
|:------------------|-------------:|------------:|---------:|---------:|---------:|----------------:|-------------:|
| car               |          737 |    0.977909 | 0.90095  | 0.937853 | 0.993815 |        0.940171 |     0.91939  |
| birds_singing     |          262 |    1        | 0.847328 | 0.917355 | 0.991906 |        0.924335 |     0.922465 |
| people talking    |          704 |    0.994297 | 0.742898 | 0.850407 | 0.986728 |        0.840984 |     0.847347 |
| wind_blowing      |           50 |    0.971429 | 0.68     | 0.8      | 0.88741  |        0.795181 |     0.765432 |
| footsteps         |          352 |    0.941176 | 0.681818 | 0.790774 | 0.930536 |        0.768719 |     0.787479 |
| metro approaching |          117 |    1        | 0.487179 | 0.655172 | 0.920127 |        0.666667 |     0.54321  |
| large_vehicle     |          211 |    0.983051 | 0.274882 | 0.42963  | 0.942445 |        0.794521 |     0.847545 |
| brakes_squeaking  |           47 |    1        | 0.170213 | 0.290909 | 0.837315 |        0.321429 |     0.483871 |
| children voices   |           63 |    1        | 0.15873  | 0.273973 | 0.910961 |        0.645161 |     0.659574 |
| Speech            |          119 |    1        | 0.134454 | 0.237037 | 0.669912 |        0.323944 |     0.4      |

### maestro_validation

#### Top 10 Classes (by F1 score)

| class              |   n_positive |   precision |    recall |        f1 |        AP |   f1_cmt_normal |   f1_cmt_neg |
|:-------------------|-------------:|------------:|----------:|----------:|----------:|----------------:|-------------:|
| birds_singing      |          176 |    1        | 1         | 1         | 1         |       0.994286  |    0.991404  |
| people talking     |          429 |    0.951952 | 0.738928  | 0.832021  | 0.968347  |       0.806495  |    0.816216  |
| car                |          324 |    1        | 0.688272  | 0.815356  | 0.965931  |       0.811009  |    0.821818  |
| metro approaching  |           64 |    1        | 0.28125   | 0.439024  | 0.702101  |       0.511628  |    0.379747  |
| footsteps          |          148 |    0.967742 | 0.202703  | 0.335196  | 0.678346  |       0.0731707 |    0.0506329 |
| wind_blowing       |           34 |    0.833333 | 0.147059  | 0.25      | 0.738092  |       0.425532  |    0.712329  |
| cutlery and dishes |           61 |    0.333333 | 0.0491803 | 0.0857143 | 0.343224  |       0         |    0         |
| metro leaving      |           47 |    0.5      | 0.0212766 | 0.0408163 | 0.447433  |       0.218182  |    0.241379  |
| brakes_squeaking   |           21 |    0        | 0         | 0         | 0.0889348 |       0.133333  |    0.0909091 |
| children voices    |            5 |    0        | 0         | 0         | 0.291018  |       0         |    0         |

---

## 5. モデル改善の分析

### cmt_normal vs baseline

| Dataset            |   ΔAccuracy |     ΔF1 |    ΔmAP |    ΔECE |
|:-------------------|------------:|--------:|--------:|--------:|
| desed_validation   |      0.0054 |  0.0419 |  0.0001 | -0.008  |
| maestro_training   |      0.0029 |  0.0289 | -0.0057 | -0      |
| maestro_validation |     -0.0013 | -0.0049 | -0.0166 | -0.0009 |

*Note: 正の値は改善、負の値は悪化を示す（ECEは例外：負の値が改善）*

### cmt_neg vs baseline

| Dataset            |   ΔAccuracy |     ΔF1 |    ΔmAP |   ΔECE |
|:-------------------|------------:|--------:|--------:|-------:|
| desed_validation   |     -0.0023 | -0.0182 | -0.0023 | 0.0045 |
| maestro_training   |      0.0031 |  0.0312 |  0.0107 | 0.0011 |
| maestro_validation |     -0.0014 |  0.0006 | -0.0246 | 0.0004 |

*Note: 正の値は改善、負の値は悪化を示す（ECEは例外：負の値が改善）*

---

## 6. サマリーと考察

### 主な発見

- （自動生成されたメトリクスから主な傾向を記述）

### データセット別最高性能モデル

- **desed_validation**: cmt_normal (F1: 0.8908)
- **maestro_training**: cmt_neg (F1: 0.8064)
- **maestro_validation**: cmt_neg (F1: 0.7108)

---

*このレポートは `generate_analysis_report.py` により自動生成されました。*